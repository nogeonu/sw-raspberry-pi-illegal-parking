# CCTV λ¶„μ„μ„ μ΄μ©ν• λ¶λ²•μ£Όμ •μ°¨ κ²€κ±° ν”„λ΅μ νΈ

## π“‹ ν”„λ΅μ νΈ κ°μ”

ν•λ‚¨λ€ν•™κµ μ¤λ§νΈμµν•©λ€ν•™ μ†ν”„νΈμ›¨μ–΄ μ—¬λ¦„λ°©ν•™ μΊ ν”„μ—μ„ μ§„ν–‰ν• ν”„λ΅μ νΈμ…λ‹λ‹¤.
λΌμ¦λ² λ¦¬νμ΄λ¥Ό ν™μ©ν•μ—¬ PythonμΌλ΅ CCTV μμƒμ„ λ¶„μ„ν•κ³  λ¶λ²•μ£Όμ •μ°¨ μ°¨λ‰μ„ μλ™μΌλ΅ κ²€κ±°ν•λ” μ‹μ¤ν…μ„ κµ¬ν„ν–μµλ‹λ‹¤.

## π― ν”„λ΅μ νΈ λ©ν‘

- YOLO λ¨λΈμ„ ν™μ©ν• μ°¨λ‰ λ²νΈν μ‹¤μ‹κ°„ νƒμ§€
- EasyOCRμ„ μ΄μ©ν• λ²νΈν μΈμ‹
- λ¶λ²•μ£Όμ •μ°¨ μ‹κ°„ μΈ΅μ • λ° λ°μ΄ν„°λ² μ΄μ¤ μ €μ¥
- λΌμ¦λ² λ¦¬νμ΄ ν™κ²½μ—μ„μ μ‹¤μ‹κ°„ μμƒ μ²λ¦¬

## π› οΈ κΈ°μ  μ¤νƒ

- **Python 3.x**
- **YOLO (Ultralytics)** - κ°μ²΄ νƒμ§€
- **EasyOCR** - λ²νΈν ν…μ¤νΈ μΈμ‹
- **OpenCV** - μμƒ μ²λ¦¬
- **PyMySQL** - λ°μ΄ν„°λ² μ΄μ¤ μ—°λ™
- **Raspberry Pi** - ν•λ“μ›¨μ–΄ ν”λ«νΌ

## π“ ν”„λ΅μ νΈ κµ¬μ΅°

```
sw_λ¶λ²•μ£Όμ •μ°¨/
β”β”€β”€ README.md
β”β”€β”€ requirements.txt
β”β”€β”€ sw_κ°λ°μ½”λ“/
β”‚   β”β”€β”€ yolo_n/
β”‚   β”‚   β”β”€β”€ parkiing_end.py      # λ©”μΈ μ‹¤ν–‰ νμΌ
β”‚   β”‚   β”β”€β”€ New_code.ipynb       # κ°λ° λ…ΈνΈλ¶
β”‚   β”‚   β””β”€β”€ Nano_car_pt/         # ν•™μµλ λ¨λΈ
β”‚   β””β”€β”€ yolo_m/
β”‚       β””β”€β”€ yolo_car/            # YOLO λ¨λΈ κ΄€λ ¨ νμΌ
β”β”€β”€ μ›λ³Έ λ°μ΄ν„°/
β”‚   β”β”€β”€ data.yaml                # λ°μ΄ν„°μ…‹ μ„¤μ •
β”‚   β”β”€β”€ train/                   # ν•™μµ λ°μ΄ν„°
β”‚   β”β”€β”€ valid/                   # κ²€μ¦ λ°μ΄ν„°
β”‚   β””β”€β”€ test/                    # ν…μ¤νΈ λ°μ΄ν„°
β””β”€β”€ ppt/
    β””β”€β”€ λ¶λ²•μ£Όμ •μ°¨.pptx          # ν”„λ΅μ νΈ λ°ν‘ μλ£
```

## π€ μ„¤μΉ λ° μ‹¤ν–‰ λ°©λ²•

### 1. ν•„μ”ν• ν¨ν‚¤μ§€ μ„¤μΉ

```bash
pip install -r requirements.txt
```

### 2. λ°μ΄ν„°λ² μ΄μ¤ μ„¤μ •

`parkiing_end.py` νμΌμ—μ„ λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° μ •λ³΄λ¥Ό μμ •ν•μ„Έμ”:

```python
conn = pymysql.connect(
    host="your_host",
    user="your_user",
    passwd="your_password",
    db="your_database",
    cursorclass=pymysql.cursors.DictCursor,
    autocommit=True
)
```

### 3. λ¨λΈ κ²½λ΅ μ„¤μ •

`parkiing_end.py` νμΌμ 20λ²μ§Έ μ¤„μ—μ„ λ¨λΈ κ²½λ΅λ¥Ό μμ •ν•μ„Έμ”:

```python
model = YOLO('your_model_path/best.pt')
```

### 4. μ‹¤ν–‰

```bash
python sw_κ°λ°μ½”λ“/yolo_n/parkiing_end.py
```

## π”§ μ£Όμ” κΈ°λ¥

### 1. μ‹¤μ‹κ°„ λ²νΈν νƒμ§€
- YOLO λ¨λΈμ„ μ‚¬μ©ν•μ—¬ μμƒμ—μ„ μ°¨λ‰ λ²νΈνμ„ μ‹¤μ‹κ°„μΌλ΅ νƒμ§€
- μ‹ λΆ°λ„ μ„κ³„κ°’(0.6) μ΄μƒμ νƒμ§€λ§ μΈμ‹

### 2. λ²νΈν μΈμ‹
- EasyOCRμ„ μ‚¬μ©ν•μ—¬ λ²νΈν ν…μ¤νΈ μ¶”μ¶
- ν•κµ­μ–΄ λ° μμ–΄ μ§€μ›
- μ •κ·ν‘ν„μ‹μ„ ν†µν• λ²νΈν ν•μ‹ κ²€μ¦ (μ: "12κ°€ 3456")

### 3. λ¶λ²•μ£Όμ •μ°¨ νλ‹¨
- μ°¨λ‰μ΄ 30μ΄ μ΄μƒ μ •μ°¨: **λ¶λ²•μ£Όμ°¨**
- μ°¨λ‰μ΄ 30μ΄ λ―Έλ§ μ •μ°¨: **λ¶λ²•μ •μ°¨**

### 4. λ°μ΄ν„° μ €μ¥
- νƒμ§€λ λ²νΈν μ΄λ―Έμ§€ μ €μ¥
- λ°μ΄ν„°λ² μ΄μ¤μ— λ‹¤μ μ •λ³΄ μ €μ¥:
  - νƒμ§€ μ‹κ°„
  - λ²νΈν λ²νΈ
  - μ£Όμ •μ°¨ μƒνƒ (λ¶λ²•μ£Όμ°¨/λ¶λ²•μ •μ°¨)
  - μ •μ°¨ μ‹κ°„

## π“ λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§

```sql
CREATE TABLE illegal_parking (
    id INT AUTO_INCREMENT PRIMARY KEY,
    datetime DATETIME,
    license_plate VARCHAR(20),
    parking_status VARCHAR(20),
    stopping_time VARCHAR(20)
);
```

## β™οΈ μ„¤μ • μµμ…

`parkiing_end.py` νμΌμ—μ„ λ‹¤μ μ„¤μ •μ„ λ³€κ²½ν•  μ μμµλ‹λ‹¤:

- `CONFIDENCE_THRESHOLD`: νƒμ§€ μ‹ λΆ°λ„ μ„κ³„κ°’ (κΈ°λ³Έκ°’: 0.6)
- `CAP_PROP_FRAME_WIDTH`: μμƒ λ„λΉ„ (κΈ°λ³Έκ°’: 640)
- `CAP_PROP_FRAME_HEIGHT`: μμƒ λ†’μ΄ (κΈ°λ³Έκ°’: 480)
- λ¶λ²•μ£Όμ°¨ νλ‹¨ μ‹κ°„: 30μ΄ (μ½”λ“ 127λ²μ§Έ μ¤„)

## π“ κ°λ° κ³Όμ •

1. **λ°μ΄ν„° μμ§‘ λ° λΌλ²¨λ§**: Roboflowλ¥Ό μ‚¬μ©ν•μ—¬ μ°¨λ‰ λ²νΈν λ°μ΄ν„°μ…‹ κµ¬μ¶•
2. **λ¨λΈ ν•™μµ**: YOLOv8μ„ μ‚¬μ©ν•μ—¬ λ²νΈν νƒμ§€ λ¨λΈ ν•™μµ
3. **OCR ν†µν•©**: EasyOCRμ„ μ‚¬μ©ν•μ—¬ λ²νΈν ν…μ¤νΈ μΈμ‹
4. **μ‹¤μ‹κ°„ μ²λ¦¬**: λΌμ¦λ² λ¦¬νμ΄μ—μ„ μ‹¤μ‹κ°„ μμƒ μ²λ¦¬ κµ¬ν„
5. **λ°μ΄ν„°λ² μ΄μ¤ μ—°λ™**: νƒμ§€ κ²°κ³Όλ¥Ό λ°μ΄ν„°λ² μ΄μ¤μ— μ €μ¥

## π“ κµμ΅ λ‚΄μ©

μ΄ ν”„λ΅μ νΈλ” λ‹¤μ λ‚΄μ©μ„ ν¬ν•¨ν•©λ‹λ‹¤:
- Python ν”„λ΅κ·Έλλ°
- μ»΄ν“¨ν„° λΉ„μ „ λ° λ”¥λ¬λ‹
- YOLO κ°μ²΄ νƒμ§€ λ¨λΈ
- OCR (κ΄‘ν•™ λ¬Έμ μΈμ‹)
- λ°μ΄ν„°λ² μ΄μ¤ μ—°λ™
- λΌμ¦λ² λ¦¬νμ΄ ν™μ©

## π“„ λΌμ΄μ„ μ¤

μ΄ ν”„λ΅μ νΈλ” κµμ΅ λ©μ μΌλ΅ μ μ‘λμ—μµλ‹λ‹¤.

## π‘¥ κΈ°μ—¬μ

ν•λ‚¨λ€ν•™κµ μ¤λ§νΈμµν•©λ€ν•™ μ†ν”„νΈμ›¨μ–΄ μ—¬λ¦„λ°©ν•™ μΊ ν”„ μ°Έκ°€μ

## π“ λ¬Έμ

ν”„λ΅μ νΈμ— λ€ν• λ¬Έμμ‚¬ν•­μ΄ μμΌμ‹λ©΄ μ΄μλ¥Ό λ“±λ΅ν•΄μ£Όμ„Έμ”.

